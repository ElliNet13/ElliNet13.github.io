<!DOCTYPE html>
<title>You Clicker!</title>
 <!-- The Google Sign-In button -->
    <div id="google-signin-button"></div>

    <!-- Load the Google Sign-In API -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>
<script>
    function onSignIn(googleUser) {
        // This function is called when the user signs in successfully.
        var profile = googleUser.getBasicProfile();
    console.log(googleUser)
     console.log(googleUser.getBasicProfile())
        console.log("ID: " + profile.getId()); // Don't send this directly to your server!
        console.log("Name: " + profile.getName());
        console.log("Image URL: " + profile.getImageUrl());
        console.log("Email: " + profile.getEmail());

        // You can handle the user data as you wish, for example, send it to your server for authentication and further processing.
        var userId = profile.getId();
      var userimage = profile.getImageUrl();
      var userName = profile.getName();
     var imageElement = document.getElementById("click");
            imageElement.src = userimage;
    }

    function onFailure(error) {
        // This function is called when sign-in fails.
        console.log(error);
    }

    function renderButton() {
        // Render the Google Sign-In button.
        gapi.signin2.render('google-signin-button', {
            'scope': 'profile email',
            'width': 240,
            'height': 50,
            'longtitle': true,
            'theme': 'dark',
            'onsuccess': onSignIn,
            'onfailure': onFailure
        });
    }
 renderButton();
</script>

<br>
<img onselectstart="return false" src="https://i.natgeofe.com/n/4f5aaece-3300-41a4-b2a8-ed2708a0a27c/domestic-dog_thumb_2x1.jpg" width="40" height="40" onclick="history.back()"><br>
<center>
<img id="click" onclick="Click()" width="80" height="80" src="" draggable="false" oncontextmenu="alert('No rclick!'); return false">
<h3 id="Clicks">Clicks</h3>
<button id="Button" onclick="upgrade()">Upgrade You need 150</button>
</center>
<a href="javascript:dab()">Dab on pugs</a>
<script>
    var clicks = document.getElementById("Clicks")
    var WOW = 0;    var ClickIt = 1; var need = 150; var rebirths = 0;
    load()
    updateButton(need)
    clicks.innerHTML = 'You: ' + WOW;
    function Click() {
        WOW = WOW + ClickIt;
        clicks.innerHTML = 'You: ' + WOW;
        save()
    };
    function upgrade() {
        if (WOW > need) {
        ClickIt = ClickIt + 1
        WOW = WOW - need
        need = need + 50
        updateButton(need)
        Click()
        }
    }
        function dab() {
    WOW = 0
    You = 0
    youNeedIt = 0
    save()
    window.location = "/error?error=You&url=e
    }
    function setCookie(cname, cvalue) {
    const d = new Date();
    d.setTime(d.getTime() + (Infinity*24*60*60*1000));
    let expires = "expires="+ d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
  }
function getCookie(cname) {
    let name = cname + "=";
    let decodedCookie = decodeURIComponent(document.cookie);
    let ca = decodedCookie.split(';');
    for(let i = 0; i <ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) == ' ') {
        c = c.substring(1);
      }
      if (c.indexOf(name) == 0) {
        return c.substring(name.length, c.length);
      }
    }
    return null;
  }
  function save() {
    setCookie('you', WOW)
    setCookie('click', ClickIt)
    setCookie('youNeedIt', need)
  }
  function load() {
    if (getCookie('corn') == null == false) {
      WOW = Number(getCookie('you'))
    }
    if (getCookie('click') == null == false) {
      ClickIt = Number(getCookie('click'))
    }
    if (getCookie('youNeedIt') == null == false) {
      need = Number(getCookie('youNeedIt'))
    }
    if (getCookie('wow') == null == false) {
      rebirth = Number(getCookie('wow'))
    }
  }
  function rebirth() {
    if (WOW > 10000) {
    removeCookie('corn')
    removeCookie('click')
    removeCookie('youNeedIt')
    rebirths = rebirths + 1
    setCookie('wow', rebirths)
    location.reload()
    }
  }
  function updateButton(num) {
    var button = document.getElementById("Button");
    button.innerHTML = 'Upgrade You need ' + num
  }
  function removeCookie(name) {document.cookie = name + '=;expires=' + new Date(0).toUTCString()}
</script>
